/**
 * Copyright (c) 2000 - 2016 XINHUANET.com All Rights Reserved.
 * kill-cms v0.0.1
 * @time 2016-08-18-17.40.22
 */
"use strict";$(function(){var a=$("#tempShow"),b=$("#tempDOM"),c=function(a,b){a.html(b)},d="",e=$("#attr"),f=(e.find(".attr"),e.find('[name="attr"]')),g=$("#format"),h=g.find("input"),i="";h.eq(0).on("click",function(a){i="\n"}),h.eq(1).on("click",function(a){i=""});var j=function(a){var b=a.attr("class");return b.length>0?' class="'+b+'"':""},k=function(b){var c=$("#output"),e=$("#nodeid").val(),f=$("#repeat").val(),g=f<200?0:f,h={begin:'<!--webbot bot="AdvTitleList" nodeid="'+(""===e?"888888":e)+'" type="0" spanmode="0" dayspan="'+g+'" attr="'+d+'" comstring="'+i,lt:"&lt;",gt:"&gt;",enpquot:"#enpquot#",Picture:{needcode:['<img data-src="<Picture needcode=0>PictureUrlPh</Picture>">','<img data-original="<Picture needcode=0>PictureUrlPh</Picture>">',"<Picture needcode=1 width=100 height=100>PictureUrlPh</Picture>"]},Title:'<Title length="0">TitlePh</Title>',ArticleUrlPh:"ArticleUrlPh",Abstract:"<Abstract>AbstractPh</Abstract>",Subtitle:i+"<Subtitle>SubtitlePh</Subtitle>",end:'" TAG="BODY" PREVIEW="[高级标题列表]" artattr="0" isshowcode="0" titlekeyword="" keyword="" tagstring="00" starttime="" endtime="" id="" startspan --><!--webbot bot="AdvTitleList" endspan i-checksum="0" -->'},k=b.find("a"),l=b.find(".abs"),m=b.find(".subTitle"),n=b.find("ul"),o=b.find("img");o.attr("width"),o.attr("height");k.each(function(a,b){var c=$(b);0===c.find("img").size()&&0!==c.text().indexOf("详细")&&c.text(h.Title)}),l.each(function(a,b){var c=$(b);if(c.find("a").size()>0){var d=c.find("a").text();c.text(h.Abstract+'URL_BEGIN<a href="'+h.ArticleUrlPh+'">URL_END'+d+"</a>")}else c.text(h.Abstract)}),m.each(function(a,b){var c=$(b);c.find("a").size()>0?c.text('URL_BEGIN<a href="'+h.ArticleUrlPh+'">URL_END'+h.Subtitle+"</a>"):c.text(h.Subtitle)}),k.attr("href",h.ArticleUrlPh).before("URL_BEGIN").prepend("URL_END"),o.each(function(a,b){var c=$(b);c.replaceWith(function(){var a=h.Picture.needcode[2];return c.attr("data-src")?a=h.Picture.needcode[0]:c.attr("data-original")&&(a=h.Picture.needcode[1]),a})});var p=b.html();p=$.HTMLFormat(p,{indent_size:"\n"===i?4:0,wrap:"\n"===i,indent_character:"\n"===i?" ":""});var q=function(b){a.text(b)};q(p);var r=n.find("li"),s=r.size();if(n&&s>1){var t=j(n),u=j(r);p=i+"<ul"+t+">\n                    <Repeat Begin=0 End="+s+">\n                        <Article>\n                            <li"+u+">"+r.eq(0).html()+"</li>\n                        </Article>\n                    </Repeat>\n                </ul>"+i}else p="<Article>"+i+p+i+"</Article>"+i,""!==f&&f>0&&(p="<Repeat Begin=0 End="+f+">"+i+p+i+"</Repeat>"+i);p=p.replace(/picture/g,"Picture").replace(/URL_BEGIN/g,"<Url>").replace(/URL_END/g,"</Url>").replace(/</g,h.lt).replace(/>/g,h.gt).replace(/"/g,h.enpquot);var v="";v=h.begin+i+p+i+h.end,c.text(v)};f.eq(0)[0].checked=!0;var l=function(a){f.eq(0)[0].checked=!1;var b=$(a.currentTarget),c="+"+b.val();b[0].checked&&"+"!==c?b.attr("data-attr",c):b.attr("data-attr","")};f.on("change",function(a){var b=$(a.currentTarget);""!==b.val()?l(a):f.attr("data-attr","").each(function(a,b){var c=$(b);0===a?c[0].checked=!0:c[0].checked=!1})});var m=$("#submit");m.on("click",function(){var a=$("#input"),e=a.val();c(b,$.trim(e)),d="",$("#attr").find("input").each(function(a,b){var c=$(b).attr("data-attr");c&&(d+=c)}),k(b)}),$.when($.ajax("package.json")).then(function(a){var b=a.version;$("title").append("_v"+b),$("footer").append(" _v "+b)})});